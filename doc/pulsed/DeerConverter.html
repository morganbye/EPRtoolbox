<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of DeerConverter</title>
  <meta name="keywords" content="DeerConverter">
  <meta name="description" content="DEERCONVERTER Takes a DEERAnalysis distance distribution figure and">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html v1.5 &copy; 2003-2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../index.html">Home</a> &gt;  <a href="index.html">pulsed</a> &gt; DeerConverter.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../index.html"><img alt="<" border="0" src="../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for pulsed&nbsp;<img alt=">" border="0" src="../right.png"></a></td></tr></table>-->

<h1>DeerConverter
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>DEERCONVERTER Takes a DEERAnalysis distance distribution figure and</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>function [x,y] = DeerConverter(varargin) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre class="comment"> DEERCONVERTER Takes a DEERAnalysis distance distribution figure and
 outputs the figure into a numerical variables for MATLAB calculations.

 This requires that you save your DeerAnalysis experiment using the 'Save'
 button in the 'Data sets' box on the right hand side of the screen

 Syntax:  [x,y] = DEERCONVERTER()

 Inputs:
    input1 - A file
               A saved file from DeerAnalysis ending in _distr.dat

 Outputs:
    output1 - x
               The distance in nm
    output2 - y
               The intensity

 Example: 
    [x,y] = DEERCONVERTER
    [x,y] = DEERCONVERTER('path/to/file_distr.dat')

 Other m-files required:
                       none

 Subfunctions:         none

 MAT-files required:   none</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../matlabicon.gif)">
</ul>
This function is called by:
<ul style="list-style-image:url(../matlabicon.gif)">
</ul>
<!-- crossreference -->



<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function [x,y] = DeerConverter(varargin)</a>
0002 
0003 <span class="comment">% DEERCONVERTER Takes a DEERAnalysis distance distribution figure and</span>
0004 <span class="comment">% outputs the figure into a numerical variables for MATLAB calculations.</span>
0005 <span class="comment">%</span>
0006 <span class="comment">% This requires that you save your DeerAnalysis experiment using the 'Save'</span>
0007 <span class="comment">% button in the 'Data sets' box on the right hand side of the screen</span>
0008 <span class="comment">%</span>
0009 <span class="comment">% Syntax:  [x,y] = DEERCONVERTER()</span>
0010 <span class="comment">%</span>
0011 <span class="comment">% Inputs:</span>
0012 <span class="comment">%    input1 - A file</span>
0013 <span class="comment">%               A saved file from DeerAnalysis ending in _distr.dat</span>
0014 <span class="comment">%</span>
0015 <span class="comment">% Outputs:</span>
0016 <span class="comment">%    output1 - x</span>
0017 <span class="comment">%               The distance in nm</span>
0018 <span class="comment">%    output2 - y</span>
0019 <span class="comment">%               The intensity</span>
0020 <span class="comment">%</span>
0021 <span class="comment">% Example:</span>
0022 <span class="comment">%    [x,y] = DEERCONVERTER</span>
0023 <span class="comment">%    [x,y] = DEERCONVERTER('path/to/file_distr.dat')</span>
0024 <span class="comment">%</span>
0025 <span class="comment">% Other m-files required:</span>
0026 <span class="comment">%                       none</span>
0027 <span class="comment">%</span>
0028 <span class="comment">% Subfunctions:         none</span>
0029 <span class="comment">%</span>
0030 <span class="comment">% MAT-files required:   none</span>
0031 <span class="comment">%</span>
0032 <span class="comment">%</span>
0033 
0034 <span class="comment">%                                        _                             _</span>
0035 <span class="comment">%                                       | |                           | |</span>
0036 <span class="comment">%  _ __ ___   ___  _ __ __ _  __ _ _ __ | |__  _   _  ___   _ __   ___| |_</span>
0037 <span class="comment">% | '_ ` _ \ / _ \| '__/ _` |/ _` | '_ \| '_ \| | | |/ _ \ | '_ \ / _ \ __|</span>
0038 <span class="comment">% | | | | | | (_) | | | (_| | (_| | | | | |_) | |_| |  __/_| | | |  __/ |_</span>
0039 <span class="comment">% |_| |_| |_|\___/|_|  \__, |\__,_|_| |_|_.__/ \__, |\___(_)_| |_|\___|\__|</span>
0040 <span class="comment">%                       __/ |                   __/ |</span>
0041 <span class="comment">%                      |___/                   |___/</span>
0042 <span class="comment">%</span>
0043 <span class="comment">% M. Bye v12.7</span>
0044 <span class="comment">%</span>
0045 <span class="comment">% Author:       Morgan Bye</span>
0046 <span class="comment">% Work address: Henry Wellcome Unit for Biological EPR</span>
0047 <span class="comment">%               University of East Anglia</span>
0048 <span class="comment">%               NORWICH, UK</span>
0049 <span class="comment">% Email:        morgan.bye@uea.ac.uk</span>
0050 <span class="comment">% Website:      http://www.morganbye.net/eprtoolbox</span>
0051 <span class="comment">% Jun 2012;     Last revision: 18-June-2011</span>
0052 <span class="comment">%</span>
0053 <span class="comment">% Approximate coding time of file:</span>
0054 <span class="comment">%               2 hours</span>
0055 <span class="comment">%</span>
0056 <span class="comment">% Version history:</span>
0057 <span class="comment">% Dec 12        &gt; Fix for 0 arguments in error</span>
0058 <span class="comment">%</span>
0059 <span class="comment">% Jun 12        &gt; Error handling added if user cancels file loading through</span>
0060 <span class="comment">%                   GUI, so as not to report error to command window</span>
0061 <span class="comment">%</span>
0062 <span class="comment">% Dec 11        &gt; Conversion to function. Allows for single file input and</span>
0063 <span class="comment">%                   gives x and y outputs.</span>
0064 <span class="comment">% May 11        &gt; Initial release</span>
0065 
0066 <span class="comment">% Load the data</span>
0067 <span class="comment">% =============</span>
0068 <span class="keyword">switch</span> nargin
0069     <span class="keyword">case</span> 0
0070         [name, path] = uigetfile({<span class="string">'*_distr.dat'</span>,<span class="string">'DeerAnalysis Distance Distribution File (*_distr.dat)'</span>},<span class="string">'Load DeerAnalysis file'</span>);
0071         
0072         <span class="comment">% if user cancels command nothing happens</span>
0073         <span class="keyword">if</span> isequal(name,0) <span class="comment">%|| isequal(directory,0)</span>
0074             <span class="keyword">return</span>
0075         <span class="keyword">end</span>
0076         
0077         file = [path,<span class="string">'/'</span>,name];
0078         data = importdata(file);
0079         
0080     <span class="keyword">case</span> 1
0081         file = varargin{1};
0082         <span class="keyword">try</span>
0083             data = importdata(file);
0084         <span class="keyword">catch</span>
0085             error(<span class="string">'The file entered was not recognised, please try again'</span>)
0086         <span class="keyword">end</span>
0087 <span class="keyword">end</span>
0088 
0089 <span class="comment">% Plot the figure</span>
0090 <span class="comment">% ===============</span>
0091 h = figure(<span class="string">'name'</span> , <span class="string">'Imported DeerAnalysis result'</span>, <span class="string">'NumberTitle'</span>,<span class="string">'off'</span>);
0092 plot(data(:,1) , data(:,2));
0093 xlabel(<span class="string">'Distance / Ã…'</span>);
0094 ylabel(<span class="string">'Relative probability / arb. units'</span>);
0095 set(gcf,<span class="string">'color'</span>, <span class="string">'white'</span>);
0096 set(gca,<span class="string">'XGrid'</span>,<span class="string">'on'</span>);
0097 
0098 <span class="comment">% Convert line to data</span>
0099 <span class="comment">% ====================</span>
0100 line = findall(h, <span class="string">'Type'</span>, <span class="string">'Line'</span>);
0101 
0102 x = get(line(1), <span class="string">'xdata'</span>);
0103 x = x';
0104 y = get(line(1), <span class="string">'ydata'</span>);
0105 y = y';</pre></div>
<hr><address>Generated on Sun 07-Jul-2013 12:41:22 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" title="Matlab Documentation in HTML">m2html</a></strong> &copy; 2005</address>
</body>
</html>